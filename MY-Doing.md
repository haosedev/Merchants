##### 这个文件用于记录最新版本号，需要更新的问题。以及打算制作的问题 #####
## Merchants ##
* 2017.7.8
* Version:0.9.122
* 2017.7.7
* Version:0.8.105
* 2017.7.5
* Version:0.8.99
* 2017.7.4
* Version:0.7.95
* 2017.6.26
* Version:0.7.89
* 2017.6.25
* Version:0.6.88
* 2017.6.24
* Version:0.5.86
* 2017.6.23
* Version:0.5.77
* 2017.6.22
* Version:0.4.69
* 2017.6.21
* Version:0.4.66
* 2017.6.20
* Version:0.4.58
* 2017.6.19
* Version:0.4.50
* 2017.6.16
* Version:0.4.46
***

##必须操作：yarn upgrade vux，必须升级vux到最新版本##
##必须操作：yarn upgrade vux-loader，必须升级vux-loader到最新版本##

#### 需要制作的页面
* 首页
* 购物车
* --添加商品
* 订单列表
* --订单详情
* 仓储
* --添加商品
* 系统设置

***
## 1.首页

使用了 Calendar, Group, Cell, Card, Divider, Tab, TabItem

**当前阶段已完成了Home的布局，需要数据接入**


***
## 2.购物车(0.4.46)

###2.1购物车页面

制作过程中发现，原来使用的是WeUI的css包

购物车样式基本完成，虽然还不是很满意，但是起码够看了。

1. （作废）购物车商品表单，需要支持v-for应该使用vue方式 无法使用外部WeUI，使用vux内部的css
2. vux支持 v-for 重新换回 vux的方式。并发现新的滑动【编辑】【删除】按钮，决定启用。
3. 通过获取购物车内商品列表，自动计算totalnum和totalmoney，每个商品内的值都被js处理过再次放入
4. **需要制作点击按钮弹出确认取消提示框，防止误操作。
5. **需要点击按钮带参数跳转到另一页 edit(id)
6. **

**现在需要将 页面的基本按钮功能和弹窗提示等弄起来，除了数据接入之外的所有功能**

   
### 2.2购物车商品内容页面

#####包含功能

展示当前选择的商品详情，发现抹零应该在 购物车确定付款前最终决定抹零。这里只计算折扣，因为部分商品接受折扣，部分不接受。并不是所有商品都接受折扣。

购物车商品布局基本完成。具体实际数据操作都留给以后。

### 2.3购物车商品下单后，跳转到订单查询。
#####包含功能
订单查询，包含显示订单信息，订单号，下单日期，购买商品，折扣，价格等数据，并提供打印按钮。
平时查询也可以跳转到哪个接口



##列表页

列表页内容比较简单，就是读取某天的所有订单列表，点击详情，可以查看订单详情，订单可以打印。



###订单详情

可以仿购物车页面的数据结构方式。取出头部和底部，只显示订单内，各种商品的组合列表



###开始对接数据，使用axios+qs
axios作为ajax获取工具
qs作为参数生成器，因为PHP，不能接受axios的FORMDATA
回去先要 yarn install 自动新增axios，或者使用 yarn add axios
对接数据相对顺利，跨域问题解决。

数据对接 Home,eCart（包含添加编辑），List
*Cart 搜索哪里是否需要增加动态查询，或者当进入页面无数据时，自动弹框确认返回。
Order 数据加载已经完成
修正 对已经作废的订单，不要再次点击作废
修正 首页总价格计算错误
Cart 付款按钮制作完成
新增购物车内按钮上数字显示。


###需要制作登陆框###
登陆框不能有 左上角的返回按钮和右上角的菜单按钮，底部按钮也隐藏
登陆页需要在失去登陆状态时，自动切换到登陆页面
自动保存登陆账号，可以使用LocalStorage 永久保存用户名。

*登陆时回传权限，并保存，前端app主要功能是 销售和库存录入（主要是有扫码）。到时候做一套 微信公众号老板查询，控制管理等
*如何保持本地与网站的系统账号同步，就是网页端丢失登陆状态本地也同样丢失
*登陆后显示登陆账号信息，存入sessionStorage
*是否每次返回都回复一个状态关于登陆状态，或者权限状态的



*说到登陆状态有2种可能性
----1个登陆时长，每次ajax请求都存在一个登陆状态返回，或者说处理异常登陆，清空sessionStorage，返回登陆界面
----2每次关闭后，重新打开，自动进入登录界面



###还需要对接 商米 系统###
商米系统里面的接口包含两个特色 打印 完成
扫码功能可以开启。
扫码功能返回值获取完成，虽然解决方案跟原设想的不同，毕竟是解决了问题，使用了vuex在main.js总写入数据。在Cart中读取数据



###仓库管理###
*仓库管理可以先不做，仓库管理可以是
固定框显示商品 【总数量】，【总库存量】，【库存商品】，【缺货商品】，【删除商品】，后三个为分类Tab，点击显示列表。
仓库管理列表，如何处理商品列表，默认显示有库存商品列表全部。
顶部使用3个按钮，搜索，新增，扫码。

*升级，显示当前列表的部分，每次下拉时候，增加显示内容。
通过搜索出来的商品，直接进入编辑页面吧。

制作编辑页面
编辑页面，有新增和编辑，两个处理方式不太一样。
新增不管从哪个入口进来，有id的就是编辑，无的就是新增，最终保存的按钮使用不一样的。
需要解决一个问题，商品搜索和商品编辑。是否搜索框变化就开始搜索结果，并把结果列出来，列出来就可以被编辑。
统一使用一个方案，刷码，点击搜索。下面显示栏，多一项搜索结果。
到底是把检索跟getStore合在一起写，还是分开两个api。先做分开的吧

编辑页面需要可以扫码自动录入bc



*Bug仓库管理返回时，点击购物车，再点击返回，返回的是仓库管理，不再是首页（这里考虑部分需要按线性返回，部分需要跳转返回）


###最终安卓系统的Bug###
登陆完成后，自动保存localStorage和sessionStorage失败。安卓不支持